version: 2

models:
  - name: stg_customers
    description: "test change desc"
    data_tests:
      - is_model_fresh:
          last_model_run_field: last_model_run
          error_after: 1
          time_part: minute
    columns:
      - name: customer_id
        description: "test col description"
        data_type: text
        data_tests:
          - anot_null
          - unique
      - name: last_model_run
        data_type: timestamp_ltz
      - name: load_dts
        data_type: date
      - name: name
        data_type: text
      - name: signup_date
        data_type: text
  - name: stg_orders
    description: "test"
    data_tests:
      - is_model_fresh:
          last_model_run_field: last_model_run
          error_after: 24
          time_part: hour
  - name: stg_items
    description: "test"
    data_tests:
      - is_model_fresh:
          last_model_run_field: last_model_run
          error_after: 24
          time_part: hour
  - name: stg_products
    description: "test"
    data_tests:
      - is_model_fresh:
          last_model_run_field: last_model_run
          error_after: 24
          time_part: hour
  - name: stg_stores
    description: "test"
    data_tests:
      - is_model_fresh:
          last_model_run_field: last_model_run
          error_after: 24
          time_part: hour
  - name: stg_supplies
    description: "test"
    data_tests:
      - is_model_fresh:
          last_model_run_field: last_model_run
          error_after: 24
          time_part: hour